import funkin.play.character.AnimateAtlasCharacter;
import funkin.play.character.CharacterType;
import funkin.play.PlayState;
import flixel.FlxG;
import flixel.FlxSprite;
import flixel.group.FlxTypedSpriteGroup;
import animate.internal.elements.FlxSpriteElement;
import funkin.graphics.FunkinSprite;
import flixel.util.FlxSort;
import funkin.Conductor;
import funkin.util.SortUtil;
import Lambda;

class SserafimGirlfriendCharacter extends AnimateAtlasCharacter
{
  function new()
  {
    super('sserafim-gf');
  }

  var isBeautiful:Bool = false;

  override function playAnimation(name:String, restart:Bool, ignoreOther:Bool)
  {
    if (isBeautiful)
    {
      super.playAnimation(name + '-beautiful', restart, ignoreOther);
    }
    else
    {
      super.playAnimation(name, restart, ignoreOther);
    }
  }

  public override function onSongEvent(scriptEvent:SongEventScriptEvent)
  {
    super.onSongEvent(scriptEvent);

    if(scriptEvent.eventData.eventKind == 'sserafimBeautiful')
      isBeautiful = scriptEvent.eventData.getBool('beautiful');
  }

  override function onSongRetry(event:ScriptEvent):Void
  {
    super.onSongRetry(event);

    isBeautiful = false;
  }

  override function update(elapsed:Float):Void
  {
    super.update(elapsed);
  }
}
